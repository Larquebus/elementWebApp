#:kivy 1.10.1

<ElementDisplay>:
	orientation: 'vertical'
	size: self.parent.size
	pos: self.parent.pos
	canvas:
		Color: 
			rgba: [1, 1, 1, 1]
		Rectangle:
			size: self.size
			pos: self.pos
	
<ElementDisplayBar>:
	size: self.parent.size
	pos: self.parent.pos
	orientation: 'horizontal'
	
	canvas.before:
		Color:
			rgba: [1, 1, 1, 1]
		Rectangle:
			size: self.size
			pos: self.pos

<ElementDisplayWindow>:
	size: self.parent.size
	pos: self.parent.pos 
	
	canvas:
		Color:
			rgba: [1, 1, 1, 1]
		Rectangle:
			size: self.size
			pos: self.pos
			
<ElementFlat>:
	orientation: 'tb-lr'
	padding: 2
	spacing: 2			

<ElementWeb>:
	orientation: 'vertical'
	
	parent_region: parent_region
	
	relation_region: relation_region
	# Sub regions of relation_region:
	enemies_region: enemies_region
	focus_region: focus_region
	allies_region: allies_region
	
	child_region: child_region
	
	WebRegion:
		id: parent_region
		orientation: 'vertical'
	WebRegion:
		id: relation_region
		orientation: 'horizontal'
		WebRegion:
			id: enemies_region
			orientation: 'vertical'
		FloatLayout:
			id: focus_region
			pos: self.pos
			size: self.size
			canvas:
				Color:
					rgba: [1, 0, 0, 1]
				Rectangle:
					pos: self.pos
					size: self.size
		WebRegion:
			id: allies_region
			orientation: 'vertical'
	WebRegion:
		id: child_region
		orientation: 'horizontal'
		
<WebRegion>:
	size_hint_y: .3
	
<Element>:
	size: len(self.element_name) * 10, 50
#	pos: self.pos
	size_hint: (None, None)
	text: self.element_name
	font_name: 'Arial'
	on_press: self.selectElement()
	background_normal: ''
	background_color: self.type_color
	color: [0, 0, 0, 1]
	bold: True

<ElementDetails>:
	size: self.parent.size
	pos: self.parent.pos
	canvas:
		Color:
			rgba: [1, 1, 1, 1]
		Rectangle:
			size: self.size
			pos: self.pos
			
<ElementNotesFrame>:
	size: self.size
	pos: self.pos
			
<ElementNotes>:
	on_text: self.parent.parent.root_link.updateElement('notes', self.text)
	
<CauseInput>:
	on_text: self.parent.parent.root_link.updateElement('cause', self.text)
	
<TypeSpecificContent>:
	size: self.size
	pos: self.pos
	
<NewElement>:
	size: 200, 50
	pos: self.pos
	size_hint: (None, None)
	orientation: 'vertical'
	Button:
		font_name: 'Arial'
		font_size: 14
		text: "Click to Add New Element"
		on_press: self.parent.nameNewElement()
	
<NewElementInput>:
	multiline: False
	on_text_validate: self.parent.addNewElementToWeb(self.text, self.parent.dropdown_btn.text)

<StatBubble>:
	size: 100, 100
	center: self.center
	size_hint: (None, None)
	canvas.before:
		Color:
			rgba: [0, 0, 0, 1]
		Ellipse:
			size: 56, 56
			pos: self.center_x - 28, self.center_y - 28
	canvas:
		Color:
			rgba: [1, 1, 1, 1]
		Ellipse:
			size: 52, 52
			pos: self.center_x - 26, self.center_y - 26
	Label:
		text: self.parent.stat
		color: [0, 0, 0, 1]
		pos: self.parent.pos
	
<AppFrame>:
	id: app_
	orientation: 'horizontal'
	size: root.size
	pos: root.pos
	web: self.web_data
	element_details: element_details
	element_display: display
	
	ElementDisplay:
		id: display
		size_hint: 1.3, 1
		display_window: display_window
		ElementDisplayBar:
			id: display_bar
			size_hint_y: .03
			Button:
				id: display_web_button
				size: self.size
				pos: self.pos
				text: 'Display Web'
				on_press: self.parent.parent.display_window.activateDisplay('web')
			Button:
				id: display_all_button
				size: self.size
				pos: self.pos
				text: 'Display All Elements'
				on_press: self.parent.parent.display_window.activateDisplay('flat')
		ElementDisplayWindow:
			id: display_window
	ElementDetails:
		id: element_details
		pos: self.pos
		size: self.size
		orientation: 'vertical'
		root_link: root
		detail_display_bar: detail_display_bar
		notes_container: notes_container
		type_content: type_content
		ElementDisplayBar:
			id: detail_display_bar
			size_hint_y: .06
			detail_display_label: detail_display_label
			Label:
				id: detail_display_label
				size: self.parent.size
				pos: 0, self.parent.center_y
				text: 'Currently selected: '
				color: [0, 0, 0, 1]
		ElementNotesFrame:
			id: notes_container
		TypeSpecificContent:
			id: type_content
			orientation: 'vertical'
			root_link: root

			

		